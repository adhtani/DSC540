(window.webpackJsonp=window.webpackJsonp||[]).push([["tv-header-search"],{"3uFZ":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ArraySource=t.Autocomplete=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n("TdlR"),n("R/cg");var r=d(n("4O8T")),s=n("7XZl"),o=n("vPBr"),u=n("/3z9"),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("wmOI")),c=n("mn7/"),l=d(n("oF5F"));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.Autocomplete=function(){function t(n){var i=n.el,r=n.source,s=n.textField,o=void 0===s?"text":s,u=n.userpicField,a=void 0===u?"userpic":u,c=n.maxLength;h(this,t),this._el=i,this._$el=$(i),this._source=r,this._tmpl=e.render(l.default,{maxLength:c}),this._textField=o,this._userpicField=a,this._init()}return i(t,[{key:"_init",value:function(){this.stream=new r.default;var e=this._el.querySelector("input");this._el.innerHTML=this._tmpl,this.input=this._el.querySelector("input"),e&&(this.input.parentNode.replaceChild(e,this.input),this.input=e),this.input.addEventListener("input",this._onInput.bind(this)),this.input.addEventListener("click",this._onInput.bind(this)),this.input.addEventListener("blur",this._onBlur.bind(this)),this._$el.on("beforeOpenMenu",this._onBeforeOpenMenu.bind(this)),this._$el.on("afterCloseMenu",this._onAfterCloseMenu.bind(this)),this._dropdown=new s.DropdownView(this._$el),this._initMenu(),this.input.addEventListener("keydown",this._onKeydown.bind(this))}},{key:"updateMenuItems",value:function(){var e=this;this._menu.highlight(this.input.value);var t=this._source.find(this.input.value,this._textField);return t.then((function(t){e._menu.updateItems(t)})),t}},{key:"_initMenu",value:function(e){var t=this;this._menu=new o.Menu({el:this._el.querySelector("tv-menu"),itemClass:"tv-autocomplete__dropdown-item tv-dropdown__item",textField:this._textField,userpicClass:"tv-autocomplete__userpic",userpicField:this._userpicField}),this._menu.stream.addListener(o.events.SELECT,(function(e){e[t._textField]?(t.input.value=e[t._textField],t._dropdown.close(),t.stream.emitEvent(c.events.SELECT,[e])):t.stream.emitEvent(c.events.SELECT_CUSTOM,[e])}))}},{key:"_onKeydown",value:function(e){var t=(0,u.hashFromEvent)(e);if(this._dropdown.isOpened())switch(t){case a.UP_ARROW:this._menu.prev(),e.preventDefault();break;case a.DOWN_ARROW:this._menu.next(),e.preventDefault();break;case a.ENTER:this._menu.select(),e.preventDefault();break;case a.ESC:this._dropdown.close(),e.preventDefault()}else switch(t){case a.UP_ARROW:case a.DOWN_ARROW:this._dropdown.open(),e.preventDefault();break;case a.ENTER:this._menu.select(),e.preventDefault()}}},{key:"_onBlur",value:function(){
this._dropdown.close()}},{key:"_onInput",value:function(){var e=this;this.updateMenuItems().then((function(t){t.length?e._dropdown.open():e._dropdown.close()}))}},{key:"_onAfterCloseMenu",value:function(){this._menu.reset(),this.stream.emitEvent(c.events.AFTER_CLOSE_MENU)}},{key:"_onBeforeOpenMenu",value:function(){this.stream.emitEvent(c.events.BEFORE_OPEN_MENU)}},{key:"value",get:function(){return this.input.value!==this._menu.value[this._textField]?(e={},t=this._textField,n=this.input.value,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e):this._menu.value;var e,t,n}}]),t}(),t.ArraySource=function(){function e(t){h(this,e),this._array=t}return i(e,[{key:"find",value:function(e,t){var n=this._array.filter((function(n){return n[t].toLowerCase().includes(e.toLowerCase())}));return Promise.resolve(n)}},{key:"getItems",value:function(){return Promise.resolve(this._array)}}]),e}()}).call(this,n("nbsC"))},"6et/":function(e,t,n){"use strict";n.r(t),n.d(t,"listen",(function(){return a})),n.d(t,"registerListener",(function(){return c})),n.d(t,"removeListener",(function(){return l})),n.d(t,"pushBackListener",(function(){return d})),n.d(t,"disable",(function(){return h})),n.d(t,"enable",(function(){return p}));var i=n("e3/o"),r=[],s=null;function o(e){for(var t=0;t<r.length;t++)if(r[t].name===e)return t;return-1}function u(e){if(!s)for(var t=r.length-1;t>=0&&!0!==r[t].func(e);t--);}function a(e){e.addEventListener("keypress",u,!1)}function c(e,t){var n={name:e,func:t},i=o(n.name);i>-1?r[i]=n:r.push(n)}function l(e){r.forEach((function(t,n){t.name===e&&r.splice(n,1)}))}function d(e,t){var n={name:e,func:t},i=o(n.name);i>-1&&r.splice(i,1),r.unshift(n)}function h(){return s?null:s=Object(i.randomHashN)(4)}function p(e){if(e!==s)throw Error("Lock id is outdated");s=null}a(window)},EOxB:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.findSeletedItemIndex=c,n("cHZ/");var r,s=n("4O8T"),o=(r=s)&&r.__esModule?r:{default:r},u=n("VWGm"),a=n("25b6");function c(e,t,n){var i=void 0,r=void 0;return e.forEach((function(e,s){void 0===i&&(e[t]!==n?void 0===r&&e[t].toLowerCase()===n.toLowerCase()&&(r=s):i=s)})),void 0!==i?i:void 0!==r?r:null}t.Menu=function(){function t(e){var n=e.el,i=e.items,r=e.itemClass,s=e.textField,o=void 0===s?"text":s,u=e.userpicField,a=void 0===u?"userpic":u,c=e.userpicClass;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._el=n,this._items=i,this._itemClass=r,this._textField=o,this._userpicField=a,this._userpicClass=c,this._hightlighted="",this._init()}return i(t,[{key:"_init",value:function(){this._el.setAttribute("tabindex","1"),this.stream=new o.default,this.updateItems(this._items),
this._el.addEventListener("mousedown",(function(e){e.preventDefault()})),this._el.addEventListener("click",this._onClick.bind(this))}},{key:"updateItems",value:function(e){this._items=e,e&&this._renderItems(e),this._menuItems=this._el.querySelectorAll("tv-menu-item"),this._selectedItem=this._el.querySelector("tv-menu-item.i-active"),this._setFocusOnItem(this._selectedItem)}},{key:"next",value:function(){this._moveFocusTo("next")}},{key:"prev",value:function(){this._moveFocusTo("prev")}},{key:"reset",value:function(){this._selectedItem?this._setFocusOnItem(this._selectedItem):this._focusedItem&&this._blur()}},{key:"select",value:function(){this._selectedItem=this._focusedItem,this.stream.emitEvent(u.events.SELECT,[this.value])}},{key:"highlight",value:function(e){e=null==e?"":String(e),this._hightlighted!==e&&(this._hightlighted=e,this.updateItems(this._items))}},{key:"_moveFocusTo",value:function(e){var t=this._getFocusedItemIdx(),n=this._menuItems.length-1,i=void 0;switch(e){case"next":i=this._findActiveItem(e,++t)||this._findActiveItem(e,0);break;case"prev":i=this._findActiveItem(e,--t)||this._findActiveItem(e,n)}this._setFocusOnItem(i)}},{key:"_getFocusedItemIdx",value:function(){return Array.prototype.indexOf.call(this._menuItems,this._focusedItem)}},{key:"_findActiveItem",value:function(e,t){for(var n=this._menuItems[t];n&&n.classList.contains("i-disabled");)switch(e){case"next":n=this._menuItems[t++];break;case"prev":n=this._menuItems[t--]}return n}},{key:"_setFocusOnItem",value:function(e){e&&!e.classList.contains("i-disabled")?(this._blur(),this._focusedItem=e,this._focus()):this._focusedItem=null}},{key:"_focus",value:function(){this._focusedItem&&this._focusedItem.classList.add("i-active")}},{key:"_blur",value:function(){this._focusedItem&&this._focusedItem.classList.remove("i-active")}},{key:"_onClick",value:function(e){e.preventDefault();var t=!e.target.classList.contains("i-disabled");e.target.tagName==="tv-menu-item".toUpperCase()&&t&&(this._setFocusOnItem(e.target),this.select())}},{key:"_renderItems",value:function(t){var n=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)),i=this._hightlighted,r=c(n,this._textField,i);null!==r&&(n[r]=Object.assign({},n[r],{selected:!0}));var s=this,o={items:n,itemClass:this._itemClass,userpicClass:this._userpicClass,activeClass:function(){if(this.selected)return"i-active"},text:function(){return this[s._textField]},html:function(){return function(e,t){var n=Math.min(e.length,t.length),i=void 0;for(i=0;i<n&&e.charAt(i).toLowerCase()===t.charAt(i).toLowerCase();i++);return i>0?"<strong>"+(0,a.htmlEscape)(e.slice(0,i))+"</strong>"+(0,a.htmlEscape)(e.slice(i)):(0,a.htmlEscape)(e)}(this[s._textField],s._hightlighted)},userpic:function(){return this[s._userpicField]},item:function(){return JSON.stringify(this)}}
;this._el.innerHTML=e.render('{{#items}}<tv-menu-item class="{{itemClass}} {{activeClass}}" data-item="{{item}}">{{#userpic}}<img class="{{userpicClass}}" src="{{userpic}}">{{/userpic}}{{{html}}}</tv-menu-item>{{/items}}',o)}},{key:"value",get:function(){var e=void 0;try{e=JSON.parse(this._selectedItem.dataset.item)}catch(t){e={}}return e}}]),t}()}).call(this,n("nbsC"))},FA0h:function(e,t,n){"use strict";function i(){return Promise.all([n.e("vendors"),n.e(0),n.e(1),n.e(2),n.e(3),n.e(5),n.e(16),n.e(23),n.e(29),n.e(31),n.e(30),n.e(37),n.e(71),n.e(86),n.e(121),n.e(140),n.e(360),n.e(4),n.e(15),n.e(28),n.e(46),n.e(56),n.e(52),n.e(60),n.e(65),n.e(76),n.e(79),n.e(80),n.e(90),n.e(104),n.e(117),n.e(132),n.e(146),n.e(176),n.e(184),n.e(183),n.e(311),n.e("symbol-search-dialog")]).then(n.bind(null,"GcSm"))}n.d(t,"a",(function(){return i}))},LxhU:function(e,t,n){"use strict";n.r(t),n.d(t,"ResolutionKind",(function(){return i})),n.d(t,"SpecialResolutionKind",(function(){return r})),n.d(t,"Interval",(function(){return l})),n.d(t,"isHour",(function(){return h}));var i,r,s=/^(\d*)([TSHDWMR])$/,o=/^(\d+)$/;!function(e){e.Ticks="ticks",e.Seconds="seconds",e.Minutes="minutes",e.Days="days",e.Weeks="weeks",e.Months="months",e.Range="range",e.Invalid="invalid"}(i||(i={})),function(e){e.Hours="hours"}(r||(r={}));var u={};u[i.Ticks]=1e3,u[i.Seconds]=1e3,u[i.Minutes]=60*u[i.Seconds],u[i.Days]=1440*u[i.Minutes],u[i.Weeks]=7*u[i.Days];var a={T:i.Ticks,S:i.Seconds,D:i.Days,W:i.Weeks,M:i.Months,R:i.Range},c=new Set([i.Ticks,i.Seconds,i.Minutes]),l=function(){function e(e,t){this._kind=i.Invalid,this._multiplier=0,e!==i.Invalid&&t>0&&(this._kind=e,this._multiplier=t)}return e.prototype.kind=function(){return this._kind},e.prototype.multiplier=function(){return this._multiplier},e.prototype.isValid=function(){return this.kind()!==i.Invalid&&this.multiplier()>0},e.prototype.isDWM=function(){return this.isValid()&&!this.isRange()&&!this.isIntraday()&&!this.isTicks()},e.prototype.isIntraday=function(){var e=c.has(this.kind());return this.isValid()&&e},e.prototype.isSeconds=function(){return this.kind()===i.Seconds},e.prototype.isMinutes=function(){return this.kind()===i.Minutes},e.prototype.isMinuteHours=function(){return this.kind()===i.Minutes&&h(this.multiplier())},e.prototype.isDays=function(){return this.kind()===i.Days},e.prototype.isWeeks=function(){return this.kind()===i.Weeks},e.prototype.isMonths=function(){return this.kind()===i.Months},e.prototype.isRange=function(){return this.kind()===i.Range},e.prototype.isTicks=function(){return this.kind()===i.Ticks},e.prototype.isTimeBased=function(){return!this.isRange()},e.prototype.letter=function(){return this.isValid()&&this.kind()!==i.Minutes?this.kind()[0].toUpperCase():""},e.prototype.value=function(){return this.isValid()?this.kind()===i.Minutes?this.multiplier()+"":this.multiplier()+this.letter():""},e.prototype.isEqualTo=function(t){if(!(t instanceof e))throw new Error("Argument is not an Interval")
;return!(!this.isValid()||!t.isValid())&&(this.kind()===t.kind()&&this.multiplier()===t.multiplier())},e.prototype.inMilliseconds=function(e){if(void 0===e&&(e=Date.now()),!this.isValid()||this.isRange())return NaN;if(this.isMonths()){var t=new Date(e);return t.setUTCMonth(t.getUTCMonth()+(this.multiplier()||1)),+t-e}var n=this.multiplier();return u[this.kind()]*n},e.isEqual=function(t,n){return e.parse(t).isEqualTo(e.parse(n))},e.parse=function(t){t=(t+"").toUpperCase().split(",")[0];var n=s.exec(t);return null!==n?"H"===n[2]?new e(i.Minutes,60*d(n[1])):new e(a[n[2]],d(n[1])):null!==(n=o.exec(t))?new e(i.Minutes,d(n[1])):new e(i.Invalid,0)},e.kind=function(t){return e.parse(t).kind()},e.isValid=function(t){return e.parse(t).isValid()},e.isDWM=function(t){return e.parse(t).isDWM()},e.isIntraday=function(t){return e.parse(t).isIntraday()},e.isSeconds=function(t){return e.parse(t).isSeconds()},e.isMinutes=function(t){return e.parse(t).isMinutes()},e.isMinuteHours=function(t){return e.parse(t).isMinuteHours()},e.isDays=function(t){return e.parse(t).isDays()},e.isWeeks=function(t){return e.parse(t).isWeeks()},e.isMonths=function(t){return e.parse(t).isMonths()},e.isRange=function(t){return e.parse(t).isRange()},e.isTicks=function(t){return e.parse(t).isTicks()},e.isTimeBased=function(t){return e.parse(t).isTimeBased()},e.normalize=function(t){var n=e.parse(t);return n.isValid()?n.value():null},e}();function d(e){return 0===e.length?1:parseInt(e,10)}function h(e){return e>=60&&!(e%60)}},"R/cg":function(e,t,n){},VWGm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.events={SELECT:"select"}},"cHZ/":function(e,t,n){},dfhE:function(e,t,n){"use strict";var i,r,s;n.r(t),n.d(t,"STATUS_OFFLINE",(function(){return o})),n.d(t,"STATUS_RESOLVING",(function(){return u})),n.d(t,"STATUS_LOADING",(function(){return a})),n.d(t,"STATUS_READY",(function(){return c})),n.d(t,"STATUS_INVALID_SYMBOL",(function(){return l})),n.d(t,"STATUS_SNAPSHOT",(function(){return d})),n.d(t,"STATUS_EOD",(function(){return h})),n.d(t,"STATUS_PULSE",(function(){return p})),n.d(t,"STATUS_DELAYED",(function(){return f})),n.d(t,"STATUS_DELAYED_STREAMING",(function(){return _})),n.d(t,"STATUS_NO_BARS",(function(){return v})),n.d(t,"STATUS_REPLAY",(function(){return m})),n.d(t,"SERIES_STATUS_TEXT",(function(){return y})),n.d(t,"STYLE_LINE_TYPE_MARKERS",(function(){return b})),n.d(t,"STYLE_LINE_TYPE_STEP",(function(){return g})),n.d(t,"STYLE_LINE_TYPE_SIMPLE",(function(){return S})),n.d(t,"STYLE_BARS",(function(){return E})),n.d(t,"STYLE_CANDLES",(function(){return w})),n.d(t,"STYLE_LINE",(function(){return I})),n.d(t,"STYLE_AREA",(function(){return k})),n.d(t,"STYLE_RENKO",(function(){return T})),n.d(t,"STYLE_KAGI",(function(){return O})),n.d(t,"STYLE_PNF",(function(){return L})),n.d(t,"STYLE_PB",(function(){return A})),n.d(t,"STYLE_HEIKEN_ASHI",(function(){return M})),n.d(t,"STYLE_HOLLOW_CANDLES",(function(){return C})),n.d(t,"STYLE_BASELINE",(function(){return x})),n.d(t,"STYLE_RANGE",(function(){return D})),
n.d(t,"STYLE_HILO",(function(){return R})),n.d(t,"STYLE_SHORT_NAMES",(function(){return F})),n.d(t,"SYMBOL_STRING_DATA",(function(){return P}));var o=0,u=1,a=2,c=3,l=4,d=5,h=6,p=7,f=8,_=9,v=10,m=11,y=((i={})[o]="connecting",i[u]="loading",i[a]="loading",i[c]="realtime",i[l]="invalid",i[d]="snapshot",i[h]="endofday",i[p]="endofday",i[f]="delayed",i[_]="delayed_streaming",i[v]="forbidden",i[m]="replay",i),b=0,g=1,S=2,E=0,w=1,I=2,k=3,T=4,O=5,L=6,A=7,M=8,C=9,x=10,D=11,R=12,F=((r={})[0]="bar",r[1]="candle",r[9]="hollowCandle",r[2]="line",r[3]="area",r[4]="renko",r[7]="pb",r[5]="kagi",r[6]="pnf",r[8]="ha",r[10]="baseline",r[11]="range",r[12]="hilo",r),P=((s={})[4]={type:"BarSetRenko@tv-prostudies",basicStudyVersion:40},s[7]={type:"BarSetPriceBreak@tv-prostudies",basicStudyVersion:34},s[5]={type:"BarSetKagi@tv-prostudies",basicStudyVersion:34},s[6]={type:"BarSetPnF@tv-prostudies",basicStudyVersion:34},s[8]={type:"BarSetHeikenAshi@tv-basicstudies",basicStudyVersion:60},s[11]={type:"BarSetRange@tv-basicstudies",basicStudyVersion:72},s)},h24c:function(e,t,n){"use strict";n.r(t),n.d(t,"parseIntervalValue",(function(){return c})),n.d(t,"intervalIsSupported",(function(){return l})),n.d(t,"canShowSpreadActions",(function(){return d})),n.d(t,"globalKeypressMatches",(function(){return h})),n.d(t,"skipAccept",(function(){return p})),n.d(t,"syncSymbolSearch",(function(){return f})),n.d(t,"setLinkingResolution",(function(){return _}));var i=n("Kxc7"),r=n("pPtI"),s=n("PT1i"),o=n("LxhU"),u=n("ePL1"),a=new RegExp("^"+u.types.QUANDL,"i");function c(e){var t=/^[,\s]*(\d*)\s*([hdwmsr]?)\s*$/i.exec(e)||[],n=~~t[1],i=t[2]&&t[2].toUpperCase()||null,r={qty:!n&&i?1:n,unit:i};return r.error=!n&&!i,r.intraday=!(r.error||r.unit&&"H"!==r.unit&&"S"!==r.unit&&"T"!==r.unit),r}function l(e){if(i.enabled("allow_supported_resolutions_set_only")){var t=o.Interval.normalize(e);return null!==t&&Object(r.isAvailable)(t)}var n=c(e);if(n.error)return!1;if(n.intraday)return s.linking.intraday.value();var u=s.linking.supportedResolutions.value();return!u||null!==n.unit&&!!~u.indexOf(n.unit)}function d(){return"cme"!==window.TradingView.widgetCustomer&&"bovespa"!==window.TradingView.widgetCustomer}function h(e){if(e.ctrlKey)return!1;if(e.metaKey)return!1;if(!e.charCode)return!1;if(!e.which||e.which<=32)return!1;if(null!==e.target&&/^(input|textarea)$/i.test(e.target.tagName))return!1;var t=n.c.GAqT;if(t&&t.exports.TVOldDialogs.modalDialog)return!1;var i=n.c["6aJD"];return!i||!i.exports.isOpenedModals()}function p(e,t){return!t&&(e===s.linking.symbol.value()||e===s.linking.seriesShortSymbol.value())}function f(e,t){var n=s.linking.symbol.value()||"";n=function(e,t){if(!t)return e;if(a.test(e)){var n=e.split(/\//);n.length&&(e=n[n.length-1])}else e=s.linking.seriesShortSymbol.value()||e;return e}(n,t),e.val(n)}function _(e){Object(r.setLastUsedResolution)(e),s.linking.interval.setValue(e)}},jAh7:function(e,t,n){"use strict";n.r(t),n.d(t,"OverlapManager",(function(){return s})),n.d(t,"getRootOverlapManager",(function(){return u}));var i=n("Eyy1"),r=function(){
function e(){this._storage=[]}return e.prototype.add=function(e){this._storage.push(e)},e.prototype.remove=function(e){this._storage=this._storage.filter((function(t){return e!==t}))},e.prototype.has=function(e){return this._storage.includes(e)},e.prototype.getItems=function(){return this._storage},e}(),s=function(){function e(e){void 0===e&&(e=document),this._storage=new r,this._windows=new Map,this._index=0,this._document=e,this._container=e.createDocumentFragment()}return e.prototype.setContainer=function(e){var t=this._container,n=null===e?this._document.createDocumentFragment():e;!function(e,t){Array.from(e.childNodes).forEach((function(e){e.nodeType===Node.ELEMENT_NODE&&t.appendChild(e)}))}(t,n),this._container=n},e.prototype.registerWindow=function(e){this._storage.has(e)||this._storage.add(e)},e.prototype.ensureWindow=function(e,t){void 0===t&&(t={position:"fixed",direction:"normal"});var n=this._windows.get(e);if(void 0!==n)return n;this.registerWindow(e);var i=this._document.createElement("div");if(i.style.position=t.position,i.style.zIndex=this._index.toString(),i.dataset.id=e,void 0!==t.index){var r=this._container.childNodes.length;if(t.index>=r)this._container.appendChild(i);else if(t.index<=0)this._container.insertBefore(i,this._container.firstChild);else{var s=this._container.childNodes[t.index];this._container.insertBefore(i,s)}}else"reverse"===t.direction?this._container.insertBefore(i,this._container.firstChild):this._container.appendChild(i);return this._windows.set(e,i),++this._index,i},e.prototype.unregisterWindow=function(e){this._storage.remove(e);var t=this._windows.get(e);void 0!==t&&(null!==t.parentElement&&t.parentElement.removeChild(t),this._windows.delete(e))},e.prototype.getZindex=function(e){var t=this.ensureWindow(e);return parseInt(t.style.zIndex||"0")},e.prototype.moveToTop=function(e){this.getZindex(e)!==this._index&&(this.ensureWindow(e).style.zIndex=(++this._index).toString())},e.prototype.removeWindow=function(e){this.unregisterWindow(e)},e}(),o=new WeakMap;function u(e){void 0===e&&(e=document);var t=e.getElementById("overlap-manager-root");if(null!==t)return Object(i.ensureDefined)(o.get(t));var n=new s(e),r=function(e){var t=e.createElement("div");return t.style.position="absolute",t.style.zIndex=150..toString(),t.style.top="0px",t.style.left="0px",t.id="overlap-manager-root",t}(e);return o.set(r,n),n.setContainer(r),e.body.appendChild(r),n}},mYjs:function(e,t,n){"use strict";function i(e,t){Promise.all([n.e("vendors"),n.e(83),n.e(157),n.e(145),n.e("change-interval-dialog")]).then(n.t.bind(null,"MuC6",7)).then((function(n){new n.ChangeIntervalDialog(e).show(t)}))}n.r(t),n.d(t,"showChangeIntervalDialog",(function(){return i}))},"mn7/":function(e,t,n){"use strict";n.r(t),n.d(t,"events",(function(){return i}));var i={SELECT:"select",SELECT_CUSTOM:"selectCustom",AFTER_CLOSE_MENU:"afterCloseMenu",BEFORE_OPEN_MENU:"beforeOpenMenu"}},oF5F:function(e,t,n){"use strict";n.r(t),
t.default='<div class="tv-dropdown-behavior tv-autocomplete__wrapper">\n\t<input class="tv-control-input tv-dropdown-behavior__button" type="text" {{#maxLength}}maxlength="{{ maxLength }}"{{/maxLength}}>\n\t<tv-menu class="tv-dropdown-behavior__body tv-dropdown__body tv-dropdown__body--under-trigger tv-autocomplete__dropdown i-hidden">\n\t</tv-menu>\n</div>\n'},pZll:function(e,t,n){"use strict";n.r(t);var i=n("eqEH"),r={id:"SymbolSearchUIService"},s=n("u5Q5"),o=function(){function e(){}return e.prototype.bindToInput=function(e,t){return Object(s.bindToInput)(e,t)},e}(),u=n("PT1i"),a=n("h24c"),c=function(){function e(){this._symbolGetter=null,this._deferredItems=[],this._symbolSearchActive=!1}return e.prototype.setSymbolGetter=function(e){var t=this;this._symbolGetter=e,this._deferredItems.forEach((function(n){t._bindToInputImpl(e,n.input,n.options)})),this._deferredItems=[]},e.prototype.bindToInput=function(e,t){return null===this._symbolGetter?this._deferredItems.push({input:e,options:t}):this._bindToInputImpl(this._symbolGetter,e,t),Promise.resolve({destroy:function(){},acceptTypeIn:function(){}})},e.prototype._bindToInputImpl=function(e,t,n){var i=this,r=$(t),s=function(e,t){},o=function(){r.blur(),i._symbolSearchActive||(i._symbolSearchActive=!0,n.currentSymbol=r.val(),e.getSymbol(n).then((function(e){r.blur(),r.trigger("accept-symbol",[e.symbol]),n.callback&&n.callback(e.symbol,e.interval),n.syncWithChartWidget&&!Object(a.skipAccept)(e.symbol,e.interval)&&s(e.symbol,e.interval),!0===n.clearAfterAccept?r.val(""):(""===r.val()&&n.onEmptyApply&&n.onEmptyApply(),r.val(e.symbol)),i._symbolSearchActive=!1})).catch((function(){r.blur(),i._symbolSearchActive=!1})))},c=function(e){e.preventDefault(),o()};if(n.syncWithChartWidget){Object(a.syncSymbolSearch)(r,!0),u.linking.seriesShortSymbol.subscribe((function(){Object(a.syncSymbolSearch)(r,!0)}));var l=!1;s=function(e,t){l=!(e||t),e&&u.linking.symbol.setValue(e),t&&Object(a.setLinkingResolution)(t)},n.syncOnBlur&&r.on("blur",(function(){l&&(Object(a.syncSymbolSearch)(r,!0),l=!1)}))}r.focus(o),r.keypress(c),r.keydown(c)},e}();function l(){return Object(i.service)(r)}n.d(t,"symbolSearchUIService",(function(){return l})),Object(i.hasService)(r)||(window.initData&&window.initData.is_mobile_new?Object(i.registerService)(r,new c):Object(i.registerService)(r,new o))},qT5H:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("BHQF"),r=n("txPx"),s=function(){function e(){this._log=Object(r.getLogger)("ArraySourceUsers")}return e.prototype.find=function(e,t){var n=this;return"text"===t&&e&&e.trim()?Object(i.fetch)("/username_hint/?s="+encodeURIComponent(e.toLowerCase()),{credentials:"omit"}).then((function(e){return e.json()})).then((function(e){return e.map((function(e){return{text:e.username,username:e.username,is_broker:e.is_broker,userpic:e.userpic}}))})).catch((function(e){return n._log.logError(e),[]})):Promise.resolve([])},e}()},qk1b:function(e,t,n){"use strict";n.r(t);var i=n("3uFZ");n.d(t,"Autocomplete",(function(){return i.Autocomplete})),
n.d(t,"ArraySource",(function(){return i.ArraySource}));var r=n("mn7/");n.d(t,"events",(function(){return r.events}))},"qs+5":function(e,t,n){"use strict";n.r(t);var i=n("pZll"),r=(n("YFKU"),n("7XZl"),n("P5fv"),n("9tJu")),s=n("qk1b"),o=n("BHQF"),u=n("txPx");function a(e){return{tag:e.tag,text:e.title||e.tag}}var c=function(){function e(){this._log=Object(u.getLogger)("ArraySourceTags")}return e.prototype.find=function(e,t){var n=this;return"text"===t&&e&&e.trim()?Object(o.fetch)("/tags/suggest/?search="+encodeURIComponent(e.toLowerCase()),{credentials:"omit"}).then((function(e){return e.json()})).then((function(e){return e.map(a)})).catch((function(e){return n._log.logError(e),[]})):Promise.resolve([])},e}(),l=n("qT5H"),d=n("gWrr"),h=n("jAh7");function p(e){return new _(e)}n.d(t,"init",(function(){return p})),n.d(t,"HeaderSearch",(function(){return _}));var f='<tv-autocomplete><input name="query" type="search" autocomplete="off" spellcheck="false" class="tv-header-search__input" placeholder="'+window.t("Search")+'"></tv-autocomplete>',_=function(){function e(e){this._states=Object.create(null),this._form=e;var t=e.querySelector(".tv-header-search__select"),n=t&&t.querySelector(".tv-header-search__select-button"),i=e.querySelector(".tv-header-search__inputwrap");if(!t||!n||!i)throw new Error("malformed layout");this._selectWrap=t,this._selectButton=n,this._inputWrap=i,this._initFromMarkup(),this._initButton(),this._initSelect(),this._syncSelect(),this._syncInput(),this._initKeyboard();var r=this._activeInput();r&&r.value&&this._updateMenuItems()}return e.prototype.search=function(e,t,n,i){t=t.trim(),e&&("symbols"===e?t?(this._setType("symbols"),this._setActiveInputValue(t),this._form.submit()):location.href="/markets/":"people"===e?location.href=t?n?Object(r.getUserProfilePath)(i):"/people/search/?q="+encodeURIComponent(t):"/people":"scripts"!==e&&"ideas"!==e&&"education"!==e||(location.href=t?n?"/"+e+"/"+encodeURI(t)+"/":"/"+e+"/search/"+encodeURI(t)+"/":"/"+e+"/"))},e.prototype.forceFocus=function(){var e;null===(e=this._activeInput())||void 0===e||e.focus()},e.prototype._onsubmit=function(){if(this._type){var e=this._states[this._type];if(e){if(e.instance){var t=e.instance.value,n=void 0;if(n="people"===this._type?t.username:t.tag)return void this.search(this._type,n,!0,t)}var i=this._activeInput();i&&this.search(this._type,i.value)}}},e.prototype._initKeyboard=function(){var e=this;this._form.addEventListener("keydown",(function(t){13!==t.keyCode||t.defaultPrevented||(t.preventDefault(),e._onsubmit())})),this._form.addEventListener("submit",(function(t){"symbols"!==e._type&&(t.preventDefault(),e._onsubmit())}))},e.prototype._initButton=function(){var e=this,t=this._form.querySelector(".tv-header-search__icon");t&&(t.addEventListener("mousedown",(function(e){e.preventDefault()})),t.addEventListener("click",(function(t){t.preventDefault(),e._onsubmit()})))},e.prototype._initFromMarkup=function(){for(var e=this._selectButton.children,t=0;t<e.length;t++){var n=e[t],i=n.getAttribute("data-type");i&&(this._states[i]={
titleEl:n,autocompleteEl:null,inited:!1,instance:null},0!==t&&n.classList.contains("i-hidden")||(this._type=i))}this._type&&(this._states[this._type].autocompleteEl=this._inputWrap.querySelector("tv-autocomplete"))},e.prototype._syncSelect=function(){for(var e=0,t=Object.entries(this._states);e<t.length;e++){var n=t[e],i=n[0];n[1].titleEl.classList.toggle("i-hidden",this._type!==i)}},e.prototype._setType=function(e){if(!e||this._type!==e){var t=this._activeInput(),n=t?t.value:void 0;this._type=e,this._syncSelect(),this._syncInput(),void 0!==n&&(this._setActiveInputValue(n),this._updateMenuItems())}},e.prototype._updateMenuItems=function(){if(this._type){var e=this._states[this._type];e&&e.instance&&e.instance.updateMenuItems()}},e.prototype._activeInput=function(){if(this._type){var e=this._states[this._type];if(e&&e.autocompleteEl)return e.autocompleteEl.querySelector("input")}return null},e.prototype._initSelect=function(){var e=this,t=$(this._selectWrap),n=$('<div class="tv-dropdown__body tv-dropdown-behavior__body i-hidden">').appendTo(t),i=function(n){return function(i){i.preventDefault(),e._setType(n),t.tvDropdown("close"),e.forceFocus()}};t.on("beforeOpenMenu",(function(){n.empty();for(var t=0,r=Object.entries(e._states);t<r.length;t++){var s=r[t],o=s[0],u=s[1];$('<span class="tv-dropdown__item tv-dropdown-behavior__item">').toggleClass("i-active",o===e._type).attr("data-type",o).html(u.titleEl.innerHTML).on("click",i(o)).appendTo(n)}})).tvDropdown()},e.prototype._syncInput=function(){if(this._type){var e=this._states[this._type];if(e){e.autocompleteEl||(e.autocompleteEl=Object(d.parseHtmlElement)(f,this._inputWrap),this._inputWrap.insertBefore(e.autocompleteEl,this._inputWrap.firstChild)),e.inited||(this._initAutocomplete(e,this._type),e.inited=!0);for(var t=0,n=Object.entries(this._states);t<n.length;t++){var i=n[t],r=i[0],s=i[1],o=r!==this._type;if(s.autocompleteEl){s.autocompleteEl.classList.toggle("i-hidden",o);var u=s.autocompleteEl.querySelector("input");u&&(u.disabled=o)}}}}},e.prototype._setActiveInputValue=function(e){var t=this._activeInput();t&&t.value!==e&&(t.value=e)},e.prototype._initAutocomplete=function(e,t){var n=this;if(e.autocompleteEl){var r=e.autocompleteEl.querySelector("input"),o=function(){return n._onsubmit()};if("symbols"!==t)r&&(r.name=""),e.instance="people"===t?new s.Autocomplete({el:e.autocompleteEl,source:new l.a}):new s.Autocomplete({el:e.autocompleteEl,source:new c}),e.instance.stream.on(s.events.SELECT,o),e.instance.stream.on(s.events.SELECT_CUSTOM,o);else if(r){var u=new h.OverlapManager;u.setContainer(e.autocompleteEl),Object(i.symbolSearchUIService)().bindToInput(r,{callback:function(e){n.search(t,e)},ignoreInterval:!0,overlapManager:u,position:"relative"})}}},e}()},u5Q5:function(e,t,n){"use strict";n.r(t),n.d(t,"loadSymbolSearchImpl",(function(){return h})),n.d(t,"bindToInput",(function(){return p})),n.d(t,"activateKeyPressHandler",(function(){return y})),n.d(t,"showDialog",(function(){return b})),n.d(t,"setSearchRequestDelay",(function(){return g}))
;var i=n("6et/"),r=n("h24c"),s=n("Kxc7"),o=n("mYjs"),u=n("pPtI"),a=n("PT1i"),c=n("FA0h"),l=n("yihy"),d=n("JWMC");function h(){return new Promise((function(e){Promise.all([n.e("vendors"),n.e(30),n.e(83),n.e(157),n.e(200),n.e(209),n.e(552),n.e(34),n.e(65),n.e(145),n.e(182),n.e(189),n.e("symbolsearch")]).then(function(t){e(n("m5UM"))}.bind(null,n)).catch(void 0)}))}function p(e,t){return h().then((function(n){return n.bindToInput(e,t)}))}function f(e){Object(u.setLastUsedResolution)(e),a.linking.interval.setValue(e)}var _=null,v=Object(l.canShowNewSymbolSearch)();function m(e){if(!Object(r.globalKeypressMatches)(e))return!1;e.preventDefault();var t=String.fromCharCode(e.charCode);return function(e){return/[\d,]/.test(e)}(t)&&s.enabled("show_interval_dialog_on_key_press")?Object(o.showChangeIntervalDialog)({callback:f,ownerDocument:e.target&&e.target.ownerDocument},t):s.enabled("symbol_search_hot_key")&&h().then((function(n){if(Object(d.trackEvent)("GUI","SS","hotkey"),v)var i=_=Object(c.a)().then((function(e){i===_&&e.showDefaultSearchDialog({defaultValue:t,selectSearchOnInit:!1})}));else n.showDialog({initialValue:t,callback:function(e,t){a.linking.symbol.setValue(e),t&&f(t)},ownerDocument:e.target&&e.target.ownerDocument})})),!0}function y(){i.pushBackListener("symbolEdit",m)}function b(e){return h().then((function(t){return t.showDialog(e)}))}function g(e){return h().then((function(t){return t.setSearchRequestDelay(e)}))}},vPBr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("EOxB");Object.defineProperty(t,"Menu",{enumerable:!0,get:function(){return i.Menu}});var r=n("VWGm");Object.defineProperty(t,"events",{enumerable:!0,get:function(){return r.events}})},yihy:function(e,t,n){"use strict";n.r(t),n.d(t,"isMobile",(function(){return u})),n.d(t,"isPlatformMobile",(function(){return a})),n.d(t,"canShowNewSymbolSearch",(function(){return c}));var i=n("mNbo"),r=n("Kxc7"),s=n("+GxX"),o=n("qFKp");function u(){var e=window.matchMedia("(min-width: 602px) and (min-height: 445px)").matches;return o.CheckMobile.any()&&!e}function a(){return!Object(i.isOnMobileAppPage)("any")&&u()}function c(){return!r.enabled("widget")&&Object(s.isFeatureEnabled)("show_new_symbol_search_dialog")&&!Object(i.isOnMobileAppPage)("any")}}}]);