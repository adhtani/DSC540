(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{"0YCj":function(t,e,r){"use strict";(function(t,e){r("Eyy1").assert;var i=r("txPx").getLogger("Chart.Study.MetaInfo"),n=r("9iCb").applyOverridesToStudyDefaults,o=null;function s(t){TradingView.merge(this,{palettes:{},inputs:[],plots:[],graphics:{},defaults:{}}),TradingView.merge(this,t);var e=t.fullId||t.id;TradingView.merge(this,s.parseIdString(e)),this.name=this.id}s.VERSION_STUDY_ARG_SOURCE=41,s.METAINFO_FORMAT_VERSION_SOS_V2=42,s.VERSION_PINE_PROTECT_TV_4164=43,s.CURRENT_METAINFO_FORMAT_VERSION=52,s.VERSION_NEW_STUDY_PRECISION_FORMAT=46,s.CHILD_STUDY_ALLOWED_PLOT_TYPES=["line"],s.canPlotBeSourceOfChildStudy=function(t){return s.CHILD_STUDY_ALLOWED_PLOT_TYPES.includes(t)},s.CHILD_STUDY_EXCLUDE_IDS=["CorrelationCoefficient@tv-basicstudies","Correlation - Log@tv-basicstudies-1"],s.CHILD_STUDY_PARENT_EXCLUDE_IDS=[],s.FilledArea={},s.FilledArea.TYPE_PLOTS="plot_plot",s.FilledArea.TYPE_HLINES="hline_hline",s.versionOf=function(t){var e="_metainfoVersion"in t&&isNumber(t._metainfoVersion)?t._metainfoVersion:0;return e<0&&i.logError("Metainfo format version cannot be negative: "+e),e},s.parseIdString=function(t){var e={};if(-1===t.indexOf("@"))e.shortId=t,e.packageId="tv-basicstudies",e.id=t+"@"+e.packageId,e.version=1;else{var r=t.split("@");e.shortId=r[0];var i=r[1].split("-");if(3===i.length)e.packageId=i.slice(0,2).join("-"),e.id=e.shortId+"@"+e.packageId,e.version=i[2];else if(1===i.length&&"decisionbar"===i[0])e.packageId="les-"+i[0],e.id=e.shortId+"@"+e.packageId,e.version=1;else{if(1!==i.length)throw new Error("unexpected study id:"+t);e.packageId="tv-"+i[0],e.id=e.shortId+"@"+e.packageId,e.version=1}}if(e.fullId=e.id+"-"+e.version,"tv-scripting"===e.packageId){var n=e.shortId;if(0===n.indexOf("Script$")||0===n.indexOf("StrategyScript$")){var o=n.indexOf("_");e.productId=o>=0?n.substring(0,o):e.packageId}else e.productId=e.packageId}else e.productId=e.packageId;return e},s.getPackageName=function(t){return(/^[^@]+@([^-]+-[^-]+)/.exec(t||"")||[0,"tv-basicstudies"])[1]},s.cutDollarHash=function(t){var e=t.indexOf("$"),r=t.indexOf("@");return-1===e?t:t.substr(0,e)+(r>=0?t.substr(r):"")},s.hasUserIdSuffix=function(t){return/^USER;[\d\w]+;\d+$/.test(t)},s.isStandardPine=function(t){return/^(Strategy)?Script\$STD;.*@tv-scripting$/.test(t)},s.getSourceIdByInputs=function(t,e){if(!Array.isArray(t)||!e)return null;for(var r=0;r<t.length;++r){var i=t[r];if(s.isSourceInput(i)&&"string"==typeof e[i.id]){var n=e[i.id];return~n.indexOf("$")&&(n=n.split("$")[0]),n}}return null},s.getSourceInputIds=function(t){for(var e=[],r=t.inputs,i=0;i<r.length;++i){var n=r[i];s.isSourceInput(n)&&e.push(n.id)}return e},s.setChildStudyMetaInfoPropertiesSourceId=function(e,r,i){for(var n=0;n<e.inputs.length;++n){var o=e.inputs[n];if(s.isSourceInput(o)&&(i instanceof t&&i.inputs&&i.inputs[o.id])){var u=i.inputs[o.id].value();if(u.indexOf("$")>0){var a=u.replace(/^[^\$]+/,r);i.inputs[o.id].setValue(a)}}}},s.patchChildStudyMetaInfoState=function(t){t.state&&function t(e){
if("object"==typeof e)for(var r in e)"string"==typeof e[r]&&/^[^\$]+\$\d+$/.test(e[r])?e[r]=e[r].replace(/^[^\$]+/,"{pid}"):t(e[r])}(t.state.inputs),t.state.isChildStudy=!0},s.prototype.parseValue=function(t,e){return"bool"===t?TradingView.parseBool(e):e},s.prototype.defaultInputs=function(){for(var t=[],e=0;e<this.inputs.length;e++)t.push(this.inputs[e].defval);return t},s.prototype.state=function(t){var e={};for(var r in this)this.hasOwnProperty(r)&&(e[r]=this[r],!0!==t&&"id"===r&&(e[r]+="-"+this.version));return e},s.prototype.symbolInputId=function(){var t=this.inputs.filter((function(t){return"symbol"===t.type}));return t.length>0?t[0].id:null},s.prototype.createDefaults=function(){if(this.defaults){var t=TradingView.clone(this.defaults);t.precision="default";var e=s.getStudyPropertyRootName(this);defaults.create(e,t)}},s.prototype.removeDefaults=function(){defaults.remove(s.getStudyPropertyRootName(this))},s.findStudyMetaInfoByDescription=function(t,e){if(t){for(var r=0;r<t.length;++r)if(t[r].description.toLowerCase()===e.toLowerCase())return t[r];throw new Error("unexpected study id:"+e)}throw new Error("There is no studies metainfo")},s.isParentSourceId=function(t){return"string"==typeof t&&/^[^\$]+\$\d+$/.test(t)},s.isSourceInput=function(t){return t.id&&(("source"===t.id||"src"===t.id)&&("text"===t.type||"source"===t.type)||"source"===t.type)},s.getChildSourceInputTitles=function(t,e,r){var i={};if(e.plots&&e.plots.length&&t.options&&t.options.length)for(var n,o,u,a=0;a<t.options.length;++a)o=(n=t.options[a])&&+n.split("$")[1],(u=isFinite(o)&&e.plots[o])&&~s.CHILD_STUDY_ALLOWED_PLOT_TYPES.indexOf(u.type)&&(i[n]=e.styles&&e.styles[u.id]&&e.styles[u.id].title||u.id,r&&(i[n]=r+":â€‰"+i[n]));return i};var u=new Map([["AnchoredVWAP@tv-basicstudies","linetoolanchoredvwap"],["RegressionTrend@tv-basicstudies","linetoolregressiontrend"]]);s.getStudyPropertyRootName=function(t){var e=u.get(t.id);if(void 0!==e)return e;var r="study_"+t.id;return t.pine&&t.pine.version&&(r+="_"+t.pine.version.replace(".","_")),r},s.getStudyPropertyRootNameById=function(t){var e=u.get(t);return void 0!==e?e:"study_"+t},s.overrideDefaults=function(t){null!==o&&0!==t.length&&n(o,t,(function(t){return TradingView.defaultProperties[s.getStudyPropertyRootName(t)]||null}))},s.setDefaultsOverrides=function(t){o=t},s.isScriptStrategy=function(t){if(t.extra&&t.extra.kind)return t.extra.kind===TVScript.Kinds.STRATEGY;if(!0===t.isTVScriptStrategy)return!0;var e=t.TVScriptSourceCode||t.scriptSource;return!!e&&TVScript.isStrategy(e)},s.getOrderedInputIds=function(t){for(var e=[],r=t.inputs,i=0;i<r.length;++i){var n=r[i];e.push(n.id)}return e},s.canBeChild=function(t){if(t&&"string"==typeof t)return!0;if(!t||t.extra&&!s.isAllowedSourceInputsCount(t.extra.sourceInputsCount)||!0===t.canNotBeChild||!1===t.canBeChild||~s.CHILD_STUDY_EXCLUDE_IDS.indexOf(t.id))return!1;for(var e=t.inputs,r=0,i=0;i<e.length;++i)s.isSourceInput(e[i])&&++r;return s.isAllowedSourceInputsCount(r)},s.isAllowedSourceInputsCount=function(t){return 1===t},
s.canHaveChildren=function(t){if(t){if(t.isTVScriptStrategy||t.TVScriptSourceCode&&TVScript.isStrategy(t.TVScriptSourceCode))return!1;if(t.id&&!~s.CHILD_STUDY_PARENT_EXCLUDE_IDS.indexOf(t.id)&&Array.isArray(t.plots))for(var e=0;e<t.plots.length;++e)if(~s.CHILD_STUDY_ALLOWED_PLOT_TYPES.indexOf(t.plots[e].type))return!0}return!1},TradingView.StudyMetaInfo=s,e&&e.exports&&(e.exports=s)}).call(this,r("tc+8"),r("YuTi")(t))}}]);