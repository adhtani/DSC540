(window.webpackJsonp=window.webpackJsonp||[]).push([[138],{EyEd:function(t,e,i){"use strict";var r=i("lCO3").Version,n=i("txPx").getLogger("Chart.StudyMigration");function o(t){this._studyId=t,this._maxToVers=r.ZERO,this._maxFromVers=r.ZERO,this._migrs=[]}o.prototype.addMigration=function(t,e,i){var n=r.parse(t),o=r.parse(e);n.isGreater(this._maxFromVers)&&(this._maxFromVers=n),o.isGreater(this._maxToVers)&&(this._maxToVers=o),this._migrs.push({fromVers:n,toVers:o,rules:i})},o.prototype.updateInputs=function(t,e,i){if(!i)return i;for(var r=TradingView.clone(i),o=t;o.isLess(e);){var s=this._findMigration(o);if(null==s)break;if(n.logNormal("Migrating study inputs from "+s.fromVers+" to "+s.toVers+" version, studyId: "+this._studyId+", migration: "+JSON.stringify(s)+", inputs: "+JSON.stringify(i)),r=this._applyMigration(r,s),!o.isLess(s.toVers))throw new Error("Problems in study migration process... Possible infinite cycle has been detected and stopped.");o=s.toVers}return o>t&&n.logNormal("Study inputs migration is done, studyId: "+this._studyId+", inputs: "+JSON.stringify(r)),r},o.prototype._findMigration=function(t){for(var e=-1,i=this._maxFromVers,r=0;r<this._migrs.length;r++){var n=this._migrs[r];n.fromVers.isLess(t)||n.fromVers.isLessOrEqual(i)&&(i=n.fromVers,e=r)}return e<0?null:this._migrs[e]},o.prototype._applyMigration=function(t,e){for(var i=t,r=0;r<e.rules.length;r++){var n=e.rules[r];i=this._getApplyRuleFun(n.type)(i,n)}return i},o.prototype._getApplyRuleFun=function(t){if("inputRemoved"===t)return o._applyInputRemovedRule;if("inputChangedType"===t)return o._applyInputChangedTypeRule;if("inputChangedMinMax"===t)return o._applyInputChangedMinMaxRule;if("inputChangedOptions"===t)return o._applyInputChangedOptionsRule;throw new Error("Unknown migration rule type: "+t)},o._applyInputRemovedRule=function(t,e){if(!(e.inputId in t))return t;if("removeVal"!==e.action)throw new Error("Unexpected rule.action="+e.action+" in rule.type="+e.type);var i=t[e.inputId];return delete t[e.inputId],n.logNormal("Input "+e.inputId+"="+i+" removed"),t},o._applyInputChangedTypeRule=function(t,e){var i=t[e.inputId];if("resetToDefVal"===e.action)return t[e.inputId]=e.defVal,n.logNormal("Input "+e.inputId+"="+i+" reset to default value "+e.defVal),t;if("convertVal"===e.action){if(null==i)return t;if("float"===e.inputTypeFrom&&"integer"===e.inputType)return t[e.inputId]=Math.round(t[e.inputId]),n.logNormal("Input "+e.inputId+"="+i+" converted to value "+t[e.inputId]),t;if("integer"===e.inputTypeFrom&&"float"===e.inputType)return t;if("text"===e.inputTypeFrom&&"source"===e.inputType)return o._isValidSource(i,e.options)||(t[e.inputId]=e.defVal),t;throw new Error("Cannot convertVal from "+e.inputTypeFrom+" to "+e.inputType)}throw new Error("Unknown action "+e.action+" for rule with type "+e.type)},o._isValidSource=function(t,e){return t.indexOf("$")>=0||e.indexOf(t)>=0},o._applyInputChangedMinMaxRule=function(t,e){if("adjustValIfNeeded"!==e.action)throw new Error("Unknown action "+e.action+" for rule with type "+e.type)
;var i=t[e.inputId];return i<e.minVal?t[e.inputId]=e.minVal:i>e.maxVal&&(t[e.inputId]=e.maxVal),n.logNormal("Input "+e.inputId+"="+i+" adjusted to value "+t[e.inputId]),t},o._applyInputChangedOptionsRule=function(t,e){if(!(["text"].indexOf(e.inputType)>=0&&"resetToDefValIfNeeded"===e.action))throw new Error("Unexpected rule.inputType="+e.inputType+" in rule.action="+e.action);var i=t[e.inputId];return e.options.indexOf(i)<0&&(t[e.inputId]=e.defVal,n.logNormal("Input "+e.inputId+"="+i+" reset to default value "+e.defVal)),t},t.exports=o},K4L1:function(t,e,i){"use strict";var r=i("Eyy1").assert,n=i("ijIX").patchSourceState,o=i("nmnj"),s=i("lCO3").Version,a=i("txPx").getLogger("Chart.Study.Versioning"),u=i("Wt0y"),p=i("0YCj"),d=i("TcSq").extractPineId,l=i("Si3H").migrateMetaInfoAndPropState;function c(t,e){if(!t)throw new Error("No studies metainfo");var r=i("EyEd");if(this._studiesMetainfo=t,!e)throw new Error("No studies migrations");this._studiesMigrations=e,this._migrations={};for(var n=0;n<this._studiesMigrations.length;n++)for(var o=this._studiesMigrations[n],s=o.versFrom,u=o.versTo,p=0;p<o.studyMigrations.length;p++){var d=o.studyMigrations[p],l=d.studyId;if(0!==d.rules.length){var c=l in this._migrations?this._migrations[l]:new r(l);c.addMigration(s,u,d.rules),this._migrations[l]=c}else a.logError("Study Migration should have at least one convertion rule")}this._clientMigrations=[function(t,e){if(0===this._studiesMetainfo.length||!t.isTVScript||t.version>=22)return e;for(var i={},r=0,n=0;;){var o=e[n];if(void 0===o)break;var s=e[o.id];o.isFake&&(o.id="in_"+r++),i[n]=o,i[o.id]=s,n++}return i}]}c.prototype.updateMetaInfo=function(t){if(!t)return t;r(!t.isTVScript,"This method should update only built-in java indicators metaInfo. For Pine indicators use updateMetaInfoAsync");for(var e=null,i=this._studiesMetainfo,n=0;n<i.length;n++)if(i[n].id===t.id){e=i[n];break}return TradingView.clone(e)},c.prototype.updateMetaInfoAsync=function(t){if(!t)return{sync:!1,result:Promise.reject("No old metaInfo was given")};var e=new p(t),i=p.versionOf(t);if(t.isTVScript&&!t.pine&&i<p.VERSION_PINE_PROTECT_TV_4164){r(TradingView.isExistent(t.scriptIdPart),"scriptIdPart is missing, study "+JSON.stringify(t));var n=t.scriptIdPart;return{sync:!1,result:new Promise((function(i,r){o.processLegacy(n,t.TVScriptSourceCode).done((function(t){e.removeDefaults();var r=new p(t);r.createDefaults(),l(r),i(r)})).fail((function(t,e){r(t)}))}))}}if(t.isTVScript&&t.pine)return(t._serverMetaInfoVersion||i)<p.CURRENT_METAINFO_FORMAT_VERSION?{sync:!1,result:new Promise((function(i,r){o.translateScriptAsync2(t.scriptIdPart,t.pine.version).done((function(t){e.removeDefaults();var r=new p(t);r.createDefaults(),l(r),i(r)})).fail((function(t,e){r(t)}))}))}:(e.createDefaults(),{sync:!0,result:e});for(var s=null,a=this._studiesMetainfo,u=0;u<a.length;u++)if(a[u].id===t.id){s=a[u];break}return{sync:!0,result:s?TradingView.clone(s):null}},c.prototype.lastVersionOfStudy=function(t){return this._studiesMetainfo.find((function(e){return e.id===t})).version},
c.prototype.updateStudyInputs=function(t,e,i,r,n){var o=TradingView.clone(r);if(t in this._migrations){var u,p=s.parse(e);if("last"===i){var d=this.lastVersionOfStudy(t);u=s.parse(d)}else u=s.parse(i);o=this._migrations[t].updateInputs(p,u,o)}if(null==n)return o;for(var l in n)l in o||(o[l]=n[l]);for(var l in o)if(!(l in n)){var c=o[l];a.logWarn("Extra input detected, studyId="+t+", versionFrom="+e+", inputId="+l+", inputValue="+c+", removing it and continue..."),delete o[l]}return o},c.prototype.updateStudyState=function(t,e,i){if(null==t||null==e||null==i)return t;if(t=TradingView.clone(t),!(e.isTVScript||!!e.pine)&&e.version!==i.version){var r=i&&i.defaults.inputs,n=this.updateStudyInputs(e.id,e.version,i.version,t.inputs,r);t.inputs=n}for(var o=0;o<this._clientMigrations.length;++o){n=this._clientMigrations[o].call(this,e,t.inputs);Object.keys(n).length===Object.keys(t.inputs).length?t.inputs=n:a.logWarn("StudyVersioning._clientMigrations application returned bad result. Skipping it...")}var s=p.versionOf(e);if(e.isTVScript&&e.TVScriptSourceCode&&s>=12&&s<=26){var u={};for(o=0;o<e.plots.length;++o){var d=e.plots[o],l=i.plots[o];u[d.id]=l.id}var c=Object.keys(t.styles);for(o=0;o<c.length;++o){var f=c[o],v=t.styles[f];delete t.styles[f];var y=u[f];t.styles[y]=v}var g=Object.keys(t.plots);for(o=0;o<g.length;++o){var m=g[o];f=t.plots[m].id;t.plots[m].id=u[f]}}return t},c.prototype.patchPointsBasedStudyState=function(t){return c._fixInputsMaxValue(t.state,t.metaInfo),"LineToolRegressionTrend"===t.type&&(t=n(t)),t},c.prototype.patchPointsBasedStudyData=function(t,e){if(!u.isProd())return e;if(!t||!e)return e;var i=TradingView.clone(e);return"VbPFixed@tv-volumebyprice"===t.id&&t.version&&t.version<=4&&c._patchOldVolumeProfiles(0,i),i},c.prototype.patchStudyData=function(t,e,i,r){if(!u.isProd())return{data:e,nsData:i,indexes:r};var n=TradingView.clone(e),o=TradingView.clone(i),s=TradingView.clone(r);"VbPVisible@tv-volumebyprice"===t.id&&t.version&&t.version<=4&&c._patchOldVolumeProfiles(0,n.graphics),"VbPSessions@tv-volumebyprice"===t.id&&t.version&&t.version<=4&&c._patchOldVolumeProfiles(0,n.graphics);var a=p.versionOf(t);if(t.isTVScript&&t.TVScriptSourceCode&&a>=12&&a<=26){var d=n.columns;n.columns=[];for(var l=0;l<d.length;++l){var f="plot_"+l;n.columns.push(f)}}return{data:n,nsData:o,indexes:s}},c._patchOldVolumeProfiles=function(t,e){var i=e.hhists[t].data,r=[];for(var n in i)r=r.concat(i[n]);e.hhists[0].data=r},c._fixInputsOrder=function(t,e){for(var i=p.getOrderedInputIds(e),r=c.splitInputs(t.inputs),n=r.arr,o=r.obj,s=TradingView.merge({},o),a=0;a<i.length;++a){var u=i[a],d=c.findInputKeyById(n,u);if(null!==d){var l=n[d];s[a]=l}}t.inputs=s},c.INPUT_MAX_VALUE=1e12,c._verifyInputsMaxValue=function(t){var e=c.INPUT_MAX_VALUE;if(t.inputs)for(var i=0;i<t.inputs.length;i++){var r=t.inputs[i];"integer"===r.type&&(r.max&&r.max>e&&a.logWarn("Bad integer input max value in metaInfo id="+t.id+" title="+t.description))}},c._fixInputsMaxValue=function(t,e){if(!TradingView.isAbsent(e)){var i=c.INPUT_MAX_VALUE
;if(e.inputs)for(var r=0;r<e.inputs.length;r++){"integer"===(a=e.inputs[r]).type&&(a.max&&a.max>i&&(a.max=i))}if(t&&t.inputs){var n=c.splitInputs(t.inputs),o=n.arr;for(var s in o){var a;"integer"===(a=o[s]).type&&(a.max&&a.max>i&&(a.max=i))}t.inputs=TradingView.merge(n.obj,n.arr)}}},c.prototype.patchPropsStateAndMetaInfo=function(t,e,i){"Script$BOOKER"!==e.productId||e.alerts||delete t.alerts,c._fixInputsOrder(t,e),c._fixInputsMaxValue(t,e);var r=c.splitInputs(t.inputs);t.inputs=r.obj;var n=p.versionOf(e);n<p.METAINFO_FORMAT_VERSION_SOS_V2&&e.isChildStudy&&(t.isChildStudy=e.isChildStudy);if(e.isTVScript&&e.version<60&&("Script$TV_EARNINGS@tv-scripting"!==e.id&&"Script$TV_DIVIDENDS@tv-scripting"!==e.id&&"Script$TV_SPLITS@tv-scripting"!==e.id||delete e.TVScriptSourceCode),"Volume"!==e.id&&"Volume@tv-basicstudies"!==e.id||0!==e.inputs.length||(e.inputs=[{id:"length",type:"integer",defval:20,min:1,max:1e3}],e.plots.push({id:"vol_ma",type:"line"})),"Volume@tv-basicstudies"===e.id&&e.version&&e.version<=46&&(t.styles.vol.transparency=t.transparency||87),"PivotPointsStandard@tv-basicstudies"===e.id&&(0===e.inputs.length?(t.inputs={kind:"Traditional",showHistoricalPivots:!0},e.inputs=[{defval:"Traditional",id:"kind",type:"text",options:["Traditional","Fibonacci","Woodie","Classic","DeMark","Camarilla"]},{id:"showHistoricalPivots",type:"bool",defval:!0}]):1===e.inputs.length&&(t.inputs={kind:"Traditional"},e.inputs=[{defval:"Traditional",id:"kind",type:"text",options:["Traditional","Fibonacci","Woodie","Classic","DeMark","Camarilla"]},{id:"showHistoricalPivots",type:"bool",defval:!0}]),void 0===t._hardCodedDefaultsVersion)){t._hardCodedDefaultsVersion=1;var o=t.color;delete t.color,t.levelsStyle={colors:{P:o,"S1/R1":o,"S2/R2":o,"S3/R3":o,"S4/R4":o,"S5/R5":o}}}"CMF"===e.shortId&&2===e.inputs.length&&(t.inputs={length:t.inputs["length fast"]},e.inputs=e.inputs.splice(0,1),e.inputs[0].id="length"),e.defaults&&void 0===e.defaults.precision&&n<p.VERSION_NEW_STUDY_PRECISION_FORMAT&&(-1!==["Volume@tv-basicstudies","VbPVisible@tv-volumebyprice","VbPSessions@tv-volumebyprice"].indexOf(e.id)?e.defaults.precision=0:e.defaults.precision=4);if(e.version<60)for(var s=["TV_DIVIDENDS","TV_SPLITS","TV_EARNINGS"],a="Script".length,u=0;u<s.length;u++)e.id.startsWith("Script$"+s[u]+"@tv-scripting")&&(e.fullId="ESD"+e.fullId.substring(a),e.id="ESD"+e.id.substring(a),e.name="ESD"+e.name.substring(a),e.shortId="ESD"+e.shortId.substring(a),e.productId="ESD"+e.productId.substring(a));if(n<p.VERSION_PINE_PROTECT_TV_4164){var f={"StrategyScript$STD;Consecutive%1Ups/Downs%1Strategy":{pineId:"STD;Consecutive%1Ups%1Downs%1Strategy",className:"StrategyScript"},Script$EDGR_NET_INCOME_FROM_CONTINUING_OPERATIONS_APPLICABLE_TO_COMMON_V2:{pineId:"Script$EDGR_NET_INCOME_FROM_CONTINUING_OPS_APPLICABLE_TO_COMMON_V2",className:"Script"}};if(e.shortId in f){var v=f[e.shortId].className+"$"+f[e.shortId].pineId,y={scriptIdPart:f[e.shortId].pineId,fullId:e.fullId.replace(e.shortId,v),id:e.id.replace(e.shortId,v),name:e.name.replace(e.shortId,v),shortId:v}
;TradingView.merge(e,y),TradingView.merge(t,y)}var g=d(e.fullId),m=g&&g.match(/^(USER)(_\d+)(;)(.*)$/);if(m){var h=m[0],I=m[1]+m[3]+m[2]+m[4];y={scriptIdPart:I,fullId:e.fullId.replace(h,I),id:e.id.replace(h,I),name:e.name.replace(h,I),shortId:e.shortId.replace(h,I)};TradingView.merge(e,y),TradingView.merge(t,y)}}if("MA"===e.id){var _=new p({id:"MAExp",properties:[{id:"is_price_study",type:"bool",value:"true"}],inputs:[{id:"length",type:"integer",defval:20,min:1,max:500},{id:"source",type:"text",defval:"close",options:["open","high","low","close"]}],plots:[{id:"MovAvgExp",type:"line"}],palettes:{}}),S=new p({id:"MASimple",properties:[{id:"is_price_study",type:"bool",value:"true"}],inputs:[{id:"length",type:"integer",defval:20,min:1,max:500},{id:"source",type:"text",defval:"close",options:["open","high","low","close"]}],plots:[{id:"MovAvgSimple",type:"line"}],palettes:{}}),V=new p({id:"MAVolumeWeighted",properties:[{id:"is_price_study",type:"bool",value:"true"}],inputs:[{id:"length",type:"integer",defval:20,min:1,max:500},{id:"source",type:"text",defval:"close",options:["open","high","low","close"]}],plots:[{id:"MovAvgVolumeWeighted",type:"line"}],palettes:{}}),w=new p({id:"MAWeighted",properties:[{id:"is_price_study",type:"bool",value:"true"}],inputs:[{id:"length",type:"integer",defval:20,min:1,max:500},{id:"source",type:"text",defval:"close",options:["open","high","low","close"]}],plots:[{id:"MovAvgWeighted",type:"line"}],palettes:{}});switch(t.inputs.type){case"exp":e=_;break;case"simple":e=S;break;case"weighted":e=w;break;case"volume weighted":e=V}t.styles[e.plots[0].id]=t.styles.MovAvg,delete t.styles.MovAvg,delete t.inputs.type}return i.oldShowStudyLastValueProperty&&(t.oldShowLastValue=t.showLastValue),delete t.showLastValue,delete t.showStudyArguments,l(e,t),{propsState:t,metaInfo:e}},c.mergeInputs=function(t,e){c.mergeInputsArrPart(t,e),c.mergeInputsObjPart(t,e)},c.mergeInputsArrPart=function(t,e){var i=c.splitInputs(e);for(var r in i.arr){var n=c.findInputKeyById(t,i.arr[r].id);n?TradingView.merge(t[n],i.arr[r]):c.appendInputInfoToArr(t,i.arr[r])}},c.mergeInputsObjPart=function(t,e){var i=c.splitInputs(e);TradingView.merge(t,i.obj)},c.appendInputInfoToArr=function(t,e){var i=-1;for(var r in t){var n=parseInt(r,10);isNumber(n)&&(n>i&&(i=n))}t[i+1]=e},c.splitInputs=function(t){var e={},i={};for(var r in t)isNumber(parseInt(r,10))?e[r]=t[r]:i[r]=t[r];return{arr:e,obj:i}},c.findInputKeyById=function(t,e){var i=null;for(var r in t)if(isNumber(parseInt(r,10))&&t[r].id===e){i=r;break}return i},c.getInputKeyById=function(t,e){var i=c.findInputKeyById(t,e);if(!i)throw new Error("Cannot find input with id: "+e);return i},t.exports=c},PjMa:function(t,e,i){"use strict";var r;i.r(e),i.d(e,"DataSourceDangerReason",(function(){return r})),function(t){t.Spread="spread",t.PineRepainting="pine-repainting",t.CryptoCap="cryptocap"}(r||(r={}))},Si3H:function(t,e,i){"use strict";i.r(e);var r=i("Eyy1"),n=i("0YCj"),o=i.n(n),s=i("ogJP"),a=function(){function t(){}return t.prototype.targetMetaInfoVersion=function(){return 47},
t.prototype.migrateMetaInfo=function(t){var e=t,i=t;if(i._metainfoVersion=47,e.defaults&&void 0!==e.defaults.precision){var r=e.defaults&&e.defaults.precision,n=Object(s.isNumber)(r)?r:parseInt(r);0===n?i.format={type:"volume"}:isFinite(n)?i.format={type:"price",precision:n}:i.format={type:"inherit"},delete e.defaults.precision}else i.format={type:"inherit"}},t.prototype.migratePropState=function(t){},t}(),u=i("mrSG"),p=function(){function t(){}return t.prototype.targetMetaInfoVersion=function(){return 50},t.prototype.migrateMetaInfo=function(t){var e=t,i=t;if(i._metainfoVersion=50,void 0!==e.defaults&&void 0!==e.defaults.ohlcPlots&&void 0!==e.ohlcPlots)for(var n=e.ohlcPlots,o=e.defaults.ohlcPlots,s=Object(r.ensureDefined)(Object(r.ensureDefined)(i.defaults).ohlcPlots),a=0,p=Object.keys(o);a<p.length;a++){var d=p[a],l=o[d];if("ohlc_candles"===l.plottype){var c=!1,f=n[d];void 0!==f&&(c=!!f.drawBorder,delete f.drawBorder),s[d]=Object(u.a)({borderColor:"#000000",drawBorder:c},l)}}},t.prototype.migratePropState=function(t){},t}();i.d(e,"migrateMetaInfoAndPropState",(function(){return l}));var d=[new a,new p];function l(t,e){var i=o.a.versionOf(t),n=t;void 0===n._serverMetaInfoVersion&&(n._serverMetaInfoVersion=i),d.forEach((function(n){i<0||i>=n.targetMetaInfoVersion()||(n.migrateMetaInfo(t),void 0!==e&&n.migratePropState(e),Object(r.assert)(t._metainfoVersion===n.targetMetaInfoVersion()))}))}d.sort((function(t,e){return t.targetMetaInfoVersion()-e.targetMetaInfoVersion()}))},TcSq:function(t,e,i){"use strict";function r(t){return t===n(t)}function n(t){var e=t.indexOf("$"),i=t.indexOf("@");return e<0&&i>=0?null:t.substring(Math.max(e+1,0),i>=0?i:t.length)}function o(t){return t.startsWith("PUB;")}function s(t){return t.startsWith("USER;")}function a(t){return t.startsWith("STD;")}function u(t){return t.includes("Candlestick%1Pattern%1")}i.r(e),i.d(e,"isPineIdString",(function(){return r})),i.d(e,"extractPineId",(function(){return n})),i.d(e,"isPublishedPineId",(function(){return o})),i.d(e,"isCustomPineId",(function(){return s})),i.d(e,"isStandardPineId",(function(){return a})),i.d(e,"isCandleStickId",(function(){return u}))},"XMe/":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.sortedStringify=function(t,e){e||(e={});"function"==typeof e&&(e={cmp:e});var i=e.space||"";"number"==typeof i&&(i=Array(i+1).join(" "));var s="boolean"==typeof e.cycles&&e.cycles,a=e.replacer||function(t,e){return e},u=e.cmp&&(d=e.cmp,function(t){return function(e,i){var r={key:e,value:t[e]},n={key:i,value:t[i]};return d(r,n)}}),p=[];var d;return function t(e,d,l,c){var f=i?"\n"+new Array(c+1).join(i):"",v=i?": ":":";if(l&&l.toJSON&&"function"==typeof l.toJSON&&(l=l.toJSON()),void 0!==(l=a.call(e,d,l))){if("object"!==(void 0===l?"undefined":r(l))||null===l)return JSON.stringify(l);if(n(l)){
for(var y=[],g=0;g<l.length;g++){var m=t(l,g,l[g],c+1)||JSON.stringify(null);y.push(f+i+m)}return"["+y.join(",")+f+"]"}if(-1!==p.indexOf(l)){if(s)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}p.push(l);var h=o(l).sort(u&&u(l));for(y=[],g=0;g<h.length;g++){var I=t(l,d=h[g],l[d],c+1);if(I){var _=JSON.stringify(d)+v+I;y.push(f+i+_)}}return p.splice(p.indexOf(l),1),"{"+y.join(",")+f+"}"}}({"":t},"",t,0)};var n=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},o=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},i=[];for(var r in t)e.call(t,r)&&i.push(r);return i}},YJLw:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=0;if(0===t.length)return e;for(var i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e&=e;return e},t.exports=e.default},ZF9k:function(t,e,i){"use strict";i.r(e),i.d(e,"showGoProAlertsOnSecondsDialog",(function(){return n}));var r=i("oOPW");function n(){Object(r.createGoProDialog)({feature:"alertsOnSeconds"})}},cBZt:function(t,e,i){"use strict";function r(t,e){return t+"@"+e}function n(t){return t.replace(/(@[^-]+-[^-]+).*$/,"$1")}i.r(e),i.d(e,"studyIdString",(function(){return r})),i.d(e,"extractStudyId",(function(){return n}))},ijIX:function(t,e,i){"use strict";i.r(e),i.d(e,"patchSourceState",(function(){return r}));i("YFKU");function r(t){var e={palettes:{},inputs:[{defval:2,id:"upper diviation",max:500,min:-500,name:window.t("Upper Deviation"),type:"integer"},{defval:-2,id:"lower diviation",max:500,min:-500,name:window.t("Lower Deviation"),type:"integer"},{defval:!0,id:"use upper diviation",name:window.t("Use Upper Deviation"),type:"bool"},{defval:!0,id:"use lower diviation",name:window.t("Use Lower Deviation"),type:"bool"},{defval:0,id:"first bar time",max:253370764800,min:0,name:window.t("First bar time"),type:"time"},{defval:0,id:"last bar time",max:253370764800,min:0,name:window.t("Last bar time"),type:"time"},{defval:"close",id:"source",name:window.t("Source"),options:["open","high","low","close","hl2","hlc3","ohlc4"],type:"text"}],plots:[],graphics:{},defaults:{inputs:{"first bar time":0,"last bar time":0,"lower diviation":-2,source:"close","upper diviation":2,"use lower diviation":!0,"use upper diviation":!0}},_metainfoVersion:6,description:"Regression Trend",id:"RegressionTrend@tv-basicstudies",is_price_study:!0,shortDescription:"Reg Trend",shortId:"RegressionTrend",version:"2",fullId:"RegressionTrend@tv-basicstudies-2",name:"RegressionTrend@tv-basicstudies"};return t.metaInfo||(t.metaInfo=e),t}},lCO3:function(t,e,i){"use strict";i.r(e),i.d(e,"Version",(function(){return n}));var r=i("Eyy1"),n=function(){function t(t,e){this._major=t,this._minor=e}return t.prototype.major=function(){return this._major},t.prototype.minor=function(){return this._minor},t.prototype.isZero=function(){return 0===this._major&&0===this._minor},t.prototype.toString=function(){return this._major+"."+this._minor},t.prototype.compareTo=function(t){
return this._major<t._major?-1:this._major>t._major?1:this._minor<t._minor?-1:this._minor>t._minor?1:0},t.prototype.isLess=function(t){return this.compareTo(t)<0},t.prototype.isLessOrEqual=function(t){return this.compareTo(t)<=0},t.prototype.isEqual=function(t){return 0===this.compareTo(t)},t.prototype.isGreater=function(t){return this.compareTo(t)>0},t.prototype.isGreaterOrEqual=function(t){return this.compareTo(t)>=0},t.parse=function(e){if(e instanceof t)return new t(e.major(),e.minor());if("number"==typeof e)return Object(r.assert)(Math.floor(e)===e,"Version should not be a float number"),new t(e,0);if("string"==typeof e){var i=e.split(".");if(1===i.length){var n=parseInt(i[0],10);return Object(r.assert)(!isNaN(n),"Bad version string: "+e),new t(n,0)}if(2===i.length){n=parseInt(i[0],10);Object(r.assert)(!isNaN(n),"Bad version string: "+e);var o=parseInt(i[1],10);return Object(r.assert)(!isNaN(o),"Bad version string: "+e),new t(n,o)}throw new Error("Bad version string (one dot expected): "+e)}throw new Error("Bad version: "+e)},t.ZERO=new t(0,0),t}()},nXyu:function(t,e,i){"use strict";i.r(e),i.d(e,"patchChildIdInInputs",(function(){return u})),i.d(e,"idForAlert",(function(){return p}));var r=i("txPx"),n=i("YJLw"),o=i.n(n),s=i("XMe/"),a=Object(r.getLogger)("Chart.Study");function u(t,e,i){void 0!==e&&void 0!==i&&i.forEach((function(i){var r=t[i];if("string"==typeof r){var n=r.split("$")[1];t[i]=e+(void 0===n?"":"$"+n)}else if("source"===r.t){n=r.v.split("$")[1];r.v=e+(void 0===n?"":"$"+n)}else a.logError("Cannot patch source input, its type is not source: "+JSON.stringify(r))}))}function p(t,e){return o()(t+Object(s.sortedStringify)(e)).toString()}},xD5v:function(t,e,i){"use strict";var r=i("WqyU");function n(t){var e=JSON.stringify(t);return e=e.replace(/'/g,"\\'")}t.exports={formatCallstudyArg:n,prepareCallStudyArgs:function(t,e){var i={};if(e.isTVScript){var o=e.defaults.inputs.text;i.text=r.patchILTemplate(o,e,t)}else for(var s=Object.keys(t),a=s.length-1;a>=0;a--){var u=s[a],p=t[u]?t[u].id:null;p&&t[p]&&(i[p]=t[p])}return n(i)}}}}]);